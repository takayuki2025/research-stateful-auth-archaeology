{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/app/thanks/buy/stripe-card/W-StripeThankYou.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"actions\": \"W-StripeThankYou-module__gu8B-G__actions\",\n  \"backHomeLink\": \"W-StripeThankYou-module__gu8B-G__backHomeLink\",\n  \"message\": \"W-StripeThankYou-module__gu8B-G__message\",\n  \"messageBox\": \"W-StripeThankYou-module__gu8B-G__messageBox\",\n  \"thankYouPage\": \"W-StripeThankYou-module__gu8B-G__thankYouPage\",\n  \"title\": \"W-StripeThankYou-module__gu8B-G__title\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":["file:///app/src/app/thanks/buy/stripe-card/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { useSearchParams } from \"next/navigation\";\nimport Link from \"next/link\";\nimport type { AxiosResponse } from \"axios\";\nimport { useAuth } from \"@/ui/auth/useAuth\";\nimport styles from \"./W-StripeThankYou.module.css\";\n\ntype OrderDetailResponse = {\n  order_id: number;\n  order_status: string;\n  payment: {\n    payment_id: number; // 内部ID\n    provider_payment_id: string | null; // pi_...\n    method: \"card\";\n    status: string;\n    method_details?: {\n      receipt_number?: string;\n    };\n  } | null;\n  shipment: {\n    shipment_id: number;\n    status: string;\n    eta?: string | null;\n  } | null;\n};\n\nexport default function StripeThankYouPage() {\n  const { apiClient } = useAuth();\n  const searchParams = useSearchParams();\n  const orderId = searchParams.get(\"order_id\");\n\n  const [order, setOrder] = useState<OrderDetailResponse | null>(null);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    if (!apiClient || !orderId) {\n      setError(\"注文情報が取得できませんでした。\");\n      return;\n    }\n\n    apiClient\n      .get(`/me/orders/${orderId}`)\n      .then((res: AxiosResponse<OrderDetailResponse>) => {\n        setOrder(res.data);\n      })\n      .catch(() => {\n        setError(\"注文情報の取得に失敗しました。\");\n      });\n  }, [apiClient, orderId]);\n\n  if (error) {\n    return (\n      <div className={styles.thankYouPage}>\n        <div className={styles.messageBox}>\n          <p>{error}</p>\n          <Link href=\"/\" className={styles.backHomeLink}>\n            ホームへ戻る\n          </Link>\n        </div>\n      </div>\n    );\n  }\n\n  if (!order || !order.payment) {\n    return (\n      <div className={styles.thankYouPage}>\n        <div className={styles.messageBox}>\n          <p>注文情報を取得中です…</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className={styles.thankYouPage}>\n      <div className={styles.messageBox}>\n        <h1 className={styles.title}>ご購入ありがとうございます！</h1>\n\n        <p>決済番号：{order.payment.provider_payment_id}</p>\n\n        <p className={styles.message}>\n          カード決済が正常に完了しました。\n          <br />\n          {order.shipment ? \"商品発送準備中です。\" : \"発送情報を準備中です。\"}\n        </p>\n\n        <div className={styles.actions}>\n          {/* ✅ Mypage の購入履歴と完全に同じ遷移 */}\n          <Link\n            href={`/mypage/orders/${orderId}`}\n            className={styles.backHomeLink}\n          >\n            注文履歴へ\n          </Link>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAEA;AACA;AAPA;;;;;;;AA4Be,SAAS;IACtB,MAAM,EAAE,SAAS,EAAE,GAAG,IAAA,uIAAO;IAC7B,MAAM,eAAe,IAAA,qJAAe;IACpC,MAAM,UAAU,aAAa,GAAG,CAAC;IAEjC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAA6B;IAC/D,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAgB;IAElD,IAAA,kNAAS,EAAC;QACR,IAAI,CAAC,aAAa,CAAC,SAAS;YAC1B,SAAS;YACT;QACF;QAEA,UACG,GAAG,CAAC,CAAC,WAAW,EAAE,SAAS,EAC3B,IAAI,CAAC,CAAC;YACL,SAAS,IAAI,IAAI;QACnB,GACC,KAAK,CAAC;YACL,SAAS;QACX;IACJ,GAAG;QAAC;QAAW;KAAQ;IAEvB,IAAI,OAAO;QACT,qBACE,8OAAC;YAAI,WAAW,2LAAM,CAAC,YAAY;sBACjC,cAAA,8OAAC;gBAAI,WAAW,2LAAM,CAAC,UAAU;;kCAC/B,8OAAC;kCAAG;;;;;;kCACJ,8OAAC,uKAAI;wBAAC,MAAK;wBAAI,WAAW,2LAAM,CAAC,YAAY;kCAAE;;;;;;;;;;;;;;;;;IAMvD;IAEA,IAAI,CAAC,SAAS,CAAC,MAAM,OAAO,EAAE;QAC5B,qBACE,8OAAC;YAAI,WAAW,2LAAM,CAAC,YAAY;sBACjC,cAAA,8OAAC;gBAAI,WAAW,2LAAM,CAAC,UAAU;0BAC/B,cAAA,8OAAC;8BAAE;;;;;;;;;;;;;;;;IAIX;IAEA,qBACE,8OAAC;QAAI,WAAW,2LAAM,CAAC,YAAY;kBACjC,cAAA,8OAAC;YAAI,WAAW,2LAAM,CAAC,UAAU;;8BAC/B,8OAAC;oBAAG,WAAW,2LAAM,CAAC,KAAK;8BAAE;;;;;;8BAE7B,8OAAC;;wBAAE;wBAAM,MAAM,OAAO,CAAC,mBAAmB;;;;;;;8BAE1C,8OAAC;oBAAE,WAAW,2LAAM,CAAC,OAAO;;wBAAE;sCAE5B,8OAAC;;;;;wBACA,MAAM,QAAQ,GAAG,eAAe;;;;;;;8BAGnC,8OAAC;oBAAI,WAAW,2LAAM,CAAC,OAAO;8BAE5B,cAAA,8OAAC,uKAAI;wBACH,MAAM,CAAC,eAAe,EAAE,SAAS;wBACjC,WAAW,2LAAM,CAAC,YAAY;kCAC/B;;;;;;;;;;;;;;;;;;;;;;AAOX","debugId":null}}]
}