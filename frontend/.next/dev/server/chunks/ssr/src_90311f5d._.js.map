{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///app/src/infrastructure/http/publicClient.ts"],"sourcesContent":["import axios from \"axios\";\n\nexport const publicClient = axios.create({\n\n    baseURL: process.env.NEXT_PUBLIC_API_BASE_URL || \"/api\",\n    withCredentials: true,\n});\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,eAAe,gJAAK,CAAC,MAAM,CAAC;IAErC,SAAS,wCAAwC;IACjD,iBAAiB;AACrB","debugId":null}},
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":["file:///app/src/services/useItemListByShopSWR.ts"],"sourcesContent":["import useSWR from \"swr\";\nimport { useAuth } from \"@/ui/auth/useAuth\";\nimport { publicClient } from \"@/infrastructure/http/publicClient\";\n\n\nexport function useItemListByShopSWR(shopCode?: string) {\n  const canFetch =\n    typeof shopCode === \"string\" &&\n    shopCode.length > 0;\n\n  const key = canFetch ? [\"shop-items\", shopCode] : null;\n\n  const fetcher = async () => {\n    const res = await publicClient.get(\n      `/shops/${shopCode}/items`\n    );\n    return res.data;\n  };\n\n  const { data, isLoading, error } = useSWR(key, fetcher, {\n    revalidateOnFocus: false,\n    revalidateOnReconnect: false,\n  });\n\n  return {\n    items: data?.items ?? [],\n    isLoading,\n    error,\n  };\n}"],"names":[],"mappings":";;;;AAAA;AAEA;;;AAGO,SAAS,qBAAqB,QAAiB;IACpD,MAAM,WACJ,OAAO,aAAa,YACpB,SAAS,MAAM,GAAG;IAEpB,MAAM,MAAM,WAAW;QAAC;QAAc;KAAS,GAAG;IAElD,MAAM,UAAU;QACd,MAAM,MAAM,MAAM,6JAAY,CAAC,GAAG,CAChC,CAAC,OAAO,EAAE,SAAS,MAAM,CAAC;QAE5B,OAAO,IAAI,IAAI;IACjB;IAEA,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,IAAA,yKAAM,EAAC,KAAK,SAAS;QACtD,mBAAmB;QACnB,uBAAuB;IACzB;IAEA,OAAO;QACL,OAAO,MAAM,SAAS,EAAE;QACxB;QACA;IACF;AACF","debugId":null}},
    {"offset": {"line": 50, "column": 0}, "map": {"version":3,"sources":["file:///app/src/services/useItemSearchByShopSWR.ts"],"sourcesContent":["import useSWR from \"swr\";\nimport { publicClient } from \"@/infrastructure/http/publicClient\";\nimport type { PublicItem } from \"@/types/publicItem\";\n\ntype ItemSearchResponse = {\n  items: PublicItem[];\n};\n\nexport function useItemSearchByShopSWR(\n  shopCode?: string,\n  query?: string\n) {\n  const canFetch =\n    typeof shopCode === \"string\" &&\n    shopCode.length > 0 &&\n    typeof query === \"string\" &&\n    query.trim().length > 0;\n\n  const key = canFetch\n    ? [\"shop-item-search\", shopCode, query]\n    : null;\n\n  const fetcher = async (): Promise<ItemSearchResponse> => {\n    const res = await publicClient.get(\n      `/search/shop-items`,\n      {\n        params: {\n          shop_code: shopCode,\n          keyword: query,\n        },\n      }\n    );\n    return res.data;\n  };\n\n  const { data, isLoading, error } = useSWR(key, fetcher, {\n    revalidateOnFocus: false,\n  });\n\n  return {\n    items: data?.items ?? [],\n    isLoading,\n    error,\n  };\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAOO,SAAS,uBACd,QAAiB,EACjB,KAAc;IAEd,MAAM,WACJ,OAAO,aAAa,YACpB,SAAS,MAAM,GAAG,KAClB,OAAO,UAAU,YACjB,MAAM,IAAI,GAAG,MAAM,GAAG;IAExB,MAAM,MAAM,WACR;QAAC;QAAoB;QAAU;KAAM,GACrC;IAEJ,MAAM,UAAU;QACd,MAAM,MAAM,MAAM,6JAAY,CAAC,GAAG,CAChC,CAAC,kBAAkB,CAAC,EACpB;YACE,QAAQ;gBACN,WAAW;gBACX,SAAS;YACX;QACF;QAEF,OAAO,IAAI,IAAI;IACjB;IAEA,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,IAAA,yKAAM,EAAC,KAAK,SAAS;QACtD,mBAAmB;IACrB;IAEA,OAAO;QACL,OAAO,MAAM,SAAS,EAAE;QACxB;QACA;IACF;AACF","debugId":null}},
    {"offset": {"line": 87, "column": 0}, "map": {"version":3,"sources":["file:///app/src/utils/utils.ts"],"sourcesContent":["// ======================================\n// IMAGE TYPEÔºàfallback Áî®Ôºâ\n// ======================================\nexport enum IMAGE_TYPE {\n  USER = \"user\",\n  ITEM = \"item\",\n  OTHER = \"other\",\n}\n\n// ======================================\n// Backend Base URL\n// ======================================\nconst BACKEND_BASE_URL =\n  process.env.NEXT_PUBLIC_BACKEND_URL ?? \"https://localhost\";\n\n// ======================================\n// Fallback ImagesÔºàÂÆüÂú®„Éë„ÇπÔºâ\n// ======================================\nconst DEFAULT_USER_IMAGE = `${BACKEND_BASE_URL}/pictures_user/default-profile2.jpg`;\n\nconst DEFAULT_ITEM_IMAGE = `${BACKEND_BASE_URL}/storage/pictures/no-image.png`;\n\n// ======================================\n// getImageUrlÔºàLaravel ÂÆüÊÖãÂØæÂøúÁâàÔºâ\n// ======================================\nexport function getImageUrl(\n  path?: string | null,\n  type: IMAGE_TYPE = IMAGE_TYPE.OTHER,\n): string {\n  if (!path) {\n    return type === IMAGE_TYPE.USER ? DEFAULT_USER_IMAGE : DEFAULT_ITEM_IMAGE;\n  }\n\n  if (path.startsWith(\"http://\") || path.startsWith(\"https://\")) {\n    return path;\n  }\n\n  if (path.startsWith(\"/storage/\")) {\n    return `${BACKEND_BASE_URL}${path}`;\n  }\n\n  if (\n    path.startsWith(\"pictures_user/\") ||\n    path.startsWith(\"item_images/\") ||\n    path.startsWith(\"pictures/\")\n  ) {\n    return `${BACKEND_BASE_URL}/storage/${path}`;\n  }\n\n  return `${BACKEND_BASE_URL}/${path}`;\n}\n\n// ======================================\n// onImageErrorÔºàÂûãÂÆâÂÖ®Ôºâ\n// ======================================\nexport const onImageError: React.ReactEventHandler<HTMLImageElement> = (e) => {\n  const img = e.currentTarget;\n  img.onerror = null;\n  img.src = \"https://placehold.co/300x300?text=No+Image\";\n};\n"],"names":[],"mappings":"AAAA,yCAAyC;AACzC,yBAAyB;AACzB,yCAAyC;;;;;;;;;AAClC,IAAA,AAAK,oCAAA;;;;WAAA;;AAMZ,yCAAyC;AACzC,mBAAmB;AACnB,yCAAyC;AACzC,MAAM,mBACJ,QAAQ,GAAG,CAAC,uBAAuB,IAAI;AAEzC,yCAAyC;AACzC,wBAAwB;AACxB,yCAAyC;AACzC,MAAM,qBAAqB,GAAG,iBAAiB,mCAAmC,CAAC;AAEnF,MAAM,qBAAqB,GAAG,iBAAiB,8BAA8B,CAAC;AAKvE,SAAS,YACd,IAAoB,EACpB,cAAmC;IAEnC,IAAI,CAAC,MAAM;QACT,OAAO,kBAA2B,qBAAqB;IACzD;IAEA,IAAI,KAAK,UAAU,CAAC,cAAc,KAAK,UAAU,CAAC,aAAa;QAC7D,OAAO;IACT;IAEA,IAAI,KAAK,UAAU,CAAC,cAAc;QAChC,OAAO,GAAG,mBAAmB,MAAM;IACrC;IAEA,IACE,KAAK,UAAU,CAAC,qBAChB,KAAK,UAAU,CAAC,mBAChB,KAAK,UAAU,CAAC,cAChB;QACA,OAAO,GAAG,iBAAiB,SAAS,EAAE,MAAM;IAC9C;IAEA,OAAO,GAAG,iBAAiB,CAAC,EAAE,MAAM;AACtC;AAKO,MAAM,eAA0D,CAAC;IACtE,MAAM,MAAM,EAAE,aAAa;IAC3B,IAAI,OAAO,GAAG;IACd,IAAI,GAAG,GAAG;AACZ","debugId":null}},
    {"offset": {"line": 136, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/app/shops/[shop_code]/W-Shop-Home.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"cardLink\": \"W-Shop-Home-module__MFieeG__cardLink\",\n  \"dashboardButton\": \"W-Shop-Home-module__MFieeG__dashboardButton\",\n  \"items_select\": \"W-Shop-Home-module__MFieeG__items_select\",\n  \"items_select_all\": \"W-Shop-Home-module__MFieeG__items_select_all\",\n  \"loadingBox\": \"W-Shop-Home-module__MFieeG__loadingBox\",\n  \"main_contents\": \"W-Shop-Home-module__MFieeG__main_contents\",\n  \"notice\": \"W-Shop-Home-module__MFieeG__notice\",\n  \"shopHeader\": \"W-Shop-Home-module__MFieeG__shopHeader\",\n  \"title\": \"W-Shop-Home-module__MFieeG__title\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 151, "column": 0}, "map": {"version":3,"sources":["file:///app/src/app/shops/%5Bshop_code%5D/page.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useMemo } from \"react\";\nimport Link from \"next/link\";\nimport { useParams, useSearchParams } from \"next/navigation\";\n\nimport { useItemListByShopSWR } from \"@/services/useItemListByShopSWR\";\nimport { useItemSearchByShopSWR } from \"@/services/useItemSearchByShopSWR\";\nimport { useAuth } from \"@/ui/auth/useAuth\";\nimport type { ShopRole } from \"@/types/auth\";\nimport type { Item } from \"@/types/item\";\nimport { getImageUrl } from \"@/utils/utils\";\nimport styles from \"./W-Shop-Home.module.css\";\n\nexport default function ShopHomePage() {\n  const { shop_code } = useParams<{ shop_code: string }>();\n  const searchParams = useSearchParams();\n  const { user, isAuthenticated, isLoading: authLoading } = useAuth();\n\n  /* =========================\n     üîç Ê§úÁ¥¢Áä∂ÊÖã\n  ========================= */\n  const currentSearchQuery = useMemo(\n    () => searchParams.get(\"q\") || \"\",\n    [searchParams],\n  );\n  const isSearch = currentSearchQuery.trim().length > 0;\n\n  /* =========================\n     üì¶ ÂïÜÂìÅÂèñÂæó\n  ========================= */\n  const listResult = useItemListByShopSWR(shop_code);\n  const searchResult = useItemSearchByShopSWR(shop_code, currentSearchQuery);\n\n  const items: Item[] = isSearch ? searchResult.items : listResult.items;\n\n  const isPageLoading =\n    authLoading || (isSearch ? searchResult.isLoading : listResult.isLoading);\n\n  /* =========================\n     üîê „Åì„ÅÆ„Ç∑„Éß„ÉÉ„Éó„ÅÆ„Çπ„Çø„ÉÉ„Éï„ÅãÔºü\n  ========================= */\n  // type Old = { shop_id: number };\n  // type New = { shop_id: number; shop_code: string; role: string };\n  const isShopStaff = useMemo(() => {\n    if (!isAuthenticated || !user?.shop_roles) return false;\n\n    return user.shop_roles.some(\n      (r) =>\n        r.shop_code === shop_code &&\n        [\"owner\", \"manager\", \"staff\"].includes(r.role),\n    );\n  }, [isAuthenticated, user, shop_code]);\n\n  /* =========================\n     ‚è≥ Loading\n  ========================= */\n  if (isPageLoading) {\n    return <div className={styles.loadingBox}>Ë™≠„ÅøËæº„Åø‰∏≠...</div>;\n  }\n\n  /* =========================\n     üé® UI\n  ========================= */\n  return (\n    <div className={styles.main_contents}>\n      {/* ===== „Éò„ÉÉ„ÉÄ„Éº ===== */}\n      <div className={styles.shopHeader}>\n        <h1 className={styles.title}>Shop: {shop_code}</h1>\n\n        {isShopStaff && (\n          <Link\n            href={`/shops/${shop_code}/dashboard`}\n            className={styles.dashboardButton}\n          >\n            ÁÆ°ÁêÜÁîªÈù¢\n          </Link>\n        )}\n      </div>\n\n      {/* ===== ÂïÜÂìÅ‰∏ÄË¶ß ===== */}\n      <div className={styles.items_select}>\n        {items.map((item) => (\n          <div key={item.id} className={styles.items_select_all}>\n            <Link href={`/item/${item.id}`} className={styles.cardLink}>\n              <img src={getImageUrl(item.item_image)} alt={item.name} />\n              <div>\n                <p>{item.name}</p>\n                <p>¬•{item.price?.toLocaleString()}</p>\n              </div>\n            </Link>\n          </div>\n        ))}\n      </div>\n\n      {!isAuthenticated && (\n        <div className={styles.notice}>\n          „É≠„Ç∞„Ç§„É≥„Åô„Çã„Å®Ë≥ºÂÖ•„ÇÑ„Éû„Ç§„É™„Çπ„Éà„Åå‰Ωø„Åà„Åæ„Åô„ÄÇ\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAEA;AACA;AACA;AAGA;AACA;AAZA;;;;;;;;;;AAce,SAAS;IACtB,MAAM,EAAE,SAAS,EAAE,GAAG,IAAA,+IAAS;IAC/B,MAAM,eAAe,IAAA,qJAAe;IACpC,MAAM,EAAE,IAAI,EAAE,eAAe,EAAE,WAAW,WAAW,EAAE,GAAG,IAAA,uIAAO;IAEjE;;4BAE0B,GAC1B,MAAM,qBAAqB,IAAA,gNAAO,EAChC,IAAM,aAAa,GAAG,CAAC,QAAQ,IAC/B;QAAC;KAAa;IAEhB,MAAM,WAAW,mBAAmB,IAAI,GAAG,MAAM,GAAG;IAEpD;;4BAE0B,GAC1B,MAAM,aAAa,IAAA,+JAAoB,EAAC;IACxC,MAAM,eAAe,IAAA,mKAAsB,EAAC,WAAW;IAEvD,MAAM,QAAgB,WAAW,aAAa,KAAK,GAAG,WAAW,KAAK;IAEtE,MAAM,gBACJ,eAAe,CAAC,WAAW,aAAa,SAAS,GAAG,WAAW,SAAS;IAE1E;;4BAE0B,GAC1B,kCAAkC;IAClC,mEAAmE;IACnE,MAAM,cAAc,IAAA,gNAAO,EAAC;QAC1B,IAAI,CAAC,mBAAmB,CAAC,MAAM,YAAY,OAAO;QAElD,OAAO,KAAK,UAAU,CAAC,IAAI,CACzB,CAAC,IACC,EAAE,SAAS,KAAK,aAChB;gBAAC;gBAAS;gBAAW;aAAQ,CAAC,QAAQ,CAAC,EAAE,IAAI;IAEnD,GAAG;QAAC;QAAiB;QAAM;KAAU;IAErC;;4BAE0B,GAC1B,IAAI,eAAe;QACjB,qBAAO,8OAAC;YAAI,WAAW,gLAAM,CAAC,UAAU;sBAAE;;;;;;IAC5C;IAEA;;4BAE0B,GAC1B,qBACE,8OAAC;QAAI,WAAW,gLAAM,CAAC,aAAa;;0BAElC,8OAAC;gBAAI,WAAW,gLAAM,CAAC,UAAU;;kCAC/B,8OAAC;wBAAG,WAAW,gLAAM,CAAC,KAAK;;4BAAE;4BAAO;;;;;;;oBAEnC,6BACC,8OAAC,uKAAI;wBACH,MAAM,CAAC,OAAO,EAAE,UAAU,UAAU,CAAC;wBACrC,WAAW,gLAAM,CAAC,eAAe;kCAClC;;;;;;;;;;;;0BAOL,8OAAC;gBAAI,WAAW,gLAAM,CAAC,YAAY;0BAChC,MAAM,GAAG,CAAC,CAAC,qBACV,8OAAC;wBAAkB,WAAW,gLAAM,CAAC,gBAAgB;kCACnD,cAAA,8OAAC,uKAAI;4BAAC,MAAM,CAAC,MAAM,EAAE,KAAK,EAAE,EAAE;4BAAE,WAAW,gLAAM,CAAC,QAAQ;;8CACxD,8OAAC;oCAAI,KAAK,IAAA,oIAAW,EAAC,KAAK,UAAU;oCAAG,KAAK,KAAK,IAAI;;;;;;8CACtD,8OAAC;;sDACC,8OAAC;sDAAG,KAAK,IAAI;;;;;;sDACb,8OAAC;;gDAAE;gDAAE,KAAK,KAAK,EAAE;;;;;;;;;;;;;;;;;;;uBALb,KAAK,EAAE;;;;;;;;;;YAYpB,CAAC,iCACA,8OAAC;gBAAI,WAAW,gLAAM,CAAC,MAAM;0BAAE;;;;;;;;;;;;AAMvC","debugId":null}}]
}