{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///app/src/services/fetcher.ts"],"sourcesContent":["export const fetcher = async (url: string) => {\n  const res = await fetch(url, {\n    credentials: \"include\",\n  });\n\n  if (!res.ok) {\n    throw new Error(\"API Error\");\n  }\n\n  return res.json();\n};\n"],"names":[],"mappings":";;;;AAAO,MAAM,UAAU,OAAO;IAC5B,MAAM,MAAM,MAAM,MAAM,KAAK;QAC3B,aAAa;IACf;IAEA,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,MAAM,IAAI,MAAM;IAClB;IAEA,OAAO,IAAI,IAAI;AACjB","debugId":null}},
    {"offset": {"line": 27, "column": 0}, "map": {"version":3,"sources":["file:///app/src/app/SWRProvider.tsx"],"sourcesContent":["\"use client\";\n\nimport { SWRConfig } from \"swr\";\nimport { fetcher } from \"@/services/fetcher\";\nimport type { ReactNode } from \"react\";\n\nexport function SWRProvider({ children }: { children: ReactNode }) {\n  return (\n    <SWRConfig\n      value={{\n        fetcher,\n        revalidateOnFocus: false,\n      }}\n    >\n      {children}\n    </SWRConfig>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAMO,SAAS,YAAY,EAAE,QAAQ,EAA2B;IAC/D,qBACE,8OAAC,2KAAS;QACR,OAAO;YACL,SAAA,qIAAO;YACP,mBAAmB;QACrB;kBAEC;;;;;;AAGP","debugId":null}},
    {"offset": {"line": 73, "column": 0}, "map": {"version":3,"sources":["file:///app/src/infrastructure/auth/TokenStorage.ts"],"sourcesContent":["import type { AuthTokens } from \"@/domain/auth/AuthTokens\";\n\nconst ACCESS = \"access_token\";\nconst REFRESH = \"refresh_token\";\n\nexport const TokenStorage = {\n  save(tokens: AuthTokens) {\n    localStorage.setItem(ACCESS, tokens.accessToken);\n    localStorage.setItem(REFRESH, tokens.refreshToken);\n  },\n\n  load(): AuthTokens {\n    return {\n      accessToken: localStorage.getItem(ACCESS) ?? \"\",\n      refreshToken: localStorage.getItem(REFRESH) ?? \"\",\n    };\n  },\n\n  clear() {\n    localStorage.removeItem(ACCESS);\n    localStorage.removeItem(REFRESH);\n  },\n};\n"],"names":[],"mappings":";;;;AAEA,MAAM,SAAS;AACf,MAAM,UAAU;AAET,MAAM,eAAe;IAC1B,MAAK,MAAkB;QACrB,aAAa,OAAO,CAAC,QAAQ,OAAO,WAAW;QAC/C,aAAa,OAAO,CAAC,SAAS,OAAO,YAAY;IACnD;IAEA;QACE,OAAO;YACL,aAAa,aAAa,OAAO,CAAC,WAAW;YAC7C,cAAc,aAAa,OAAO,CAAC,YAAY;QACjD;IACF;IAEA;QACE,aAAa,UAAU,CAAC;QACxB,aAAa,UAAU,CAAC;IAC1B;AACF","debugId":null}},
    {"offset": {"line": 99, "column": 0}, "map": {"version":3,"sources":["file:///app/src/utils/deviceId.ts"],"sourcesContent":["export function getDeviceId(): string {\n  let d = localStorage.getItem(\"device_id\");\n  if (!d) {\n    d = crypto.randomUUID();\n    localStorage.setItem(\"device_id\", d);\n  }\n  return d;\n}\n"],"names":[],"mappings":";;;;AAAO,SAAS;IACd,IAAI,IAAI,aAAa,OAAO,CAAC;IAC7B,IAAI,CAAC,GAAG;QACN,IAAI,OAAO,UAAU;QACrB,aAAa,OAAO,CAAC,aAAa;IACpC;IACA,OAAO;AACT","debugId":null}},
    {"offset": {"line": 235, "column": 0}, "map": {"version":3,"sources":["file:///app/src/application/auth/AuthService.ts"],"sourcesContent":["import { FirebaseAuthClient } from \"@/infrastructure/auth/FirebaseAuthClient\";\nimport { LaravelAuthApi } from \"@/infrastructure/auth/LaravelAuthApi\";\nimport { TokenStorage } from \"@/infrastructure/auth/TokenStorage\";\nimport { getDeviceId } from \"@/utils/deviceId\";\nimport type { User } from \"firebase/auth\";\nimport type { AuthUser } from \"@/types/auth\";\nimport { sendEmailVerification, updateProfile } from \"firebase/auth\";\n\nexport type LoginResult = {\n  user: AuthUser;\n  isFirstLogin: boolean;\n};\n\nexport class AuthService {\n  constructor(\n    private firebase: FirebaseAuthClient,\n    private laravel: LaravelAuthApi,\n  ) {}\n\n  async register(name: string, email: string, password: string) {\n    const user = await this.firebase.register(email, password);\n\n    await updateProfile(user, { displayName: name });\n\n    await sendEmailVerification(user, {\n      url: \"https://localhost/login?verified=1\",\n      handleCodeInApp: false,\n    });\n\n    return { needsEmailVerification: true };\n  }\n\n  async login({\n    email,\n    password,\n  }: {\n    email: string;\n    password: string;\n  }): Promise<LoginResult> {\n    // ‚ë† Firebase login\n    const firebaseUser = await this.firebase.login(email, password);\n\n    // ‚ë° ‚òÖ ÂøÖ„ÅöÊúÄÊñ∞„Éà„Éº„ÇØ„É≥„ÇíÂèñÂæó\n    const firebaseToken = await this.firebase.getFreshIdToken(firebaseUser);\n\n    // ‚ë¢ Laravel „Å´‰∫§Êèõ\n    const deviceId = getDeviceId();\n    const { tokens, user, isFirstLogin } =\n      await this.laravel.loginWithFirebaseToken(firebaseToken, deviceId);\n\n    TokenStorage.save(tokens);\n\n    return { user, isFirstLogin };\n  }\n\n  async logout() {\n    await this.firebase.logout();\n    TokenStorage.clear();\n  }\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AAGA;AAAA;;;;AAOO,MAAM;;;IACX,YACE,AAAQ,QAA4B,EACpC,AAAQ,OAAuB,CAC/B;aAFQ,WAAA;aACA,UAAA;IACP;IAEH,MAAM,SAAS,IAAY,EAAE,KAAa,EAAE,QAAgB,EAAE;QAC5D,MAAM,OAAO,MAAM,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,OAAO;QAEjD,MAAM,IAAA,+MAAa,EAAC,MAAM;YAAE,aAAa;QAAK;QAE9C,MAAM,IAAA,uNAAqB,EAAC,MAAM;YAChC,KAAK;YACL,iBAAiB;QACnB;QAEA,OAAO;YAAE,wBAAwB;QAAK;IACxC;IAEA,MAAM,MAAM,EACV,KAAK,EACL,QAAQ,EAIT,EAAwB;QACvB,mBAAmB;QACnB,MAAM,eAAe,MAAM,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,OAAO;QAEtD,kBAAkB;QAClB,MAAM,gBAAgB,MAAM,IAAI,CAAC,QAAQ,CAAC,eAAe,CAAC;QAE1D,gBAAgB;QAChB,MAAM,WAAW,IAAA,uIAAW;QAC5B,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,YAAY,EAAE,GAClC,MAAM,IAAI,CAAC,OAAO,CAAC,sBAAsB,CAAC,eAAe;QAE3D,6JAAY,CAAC,IAAI,CAAC;QAElB,OAAO;YAAE;YAAM;QAAa;IAC9B;IAEA,MAAM,SAAS;QACb,MAAM,IAAI,CAAC,QAAQ,CAAC,MAAM;QAC1B,6JAAY,CAAC,KAAK;IACpB;AACF","debugId":null}},
    {"offset": {"line": 289, "column": 0}, "map": {"version":3,"sources":["file:///app/src/lib/firebase.ts"],"sourcesContent":["\"use client\";\n\nimport { initializeApp, getApps } from \"firebase/app\";\nimport { getAuth, type Auth } from \"firebase/auth\";\n\nlet firebaseAuth: Auth | null = null;\n\nexport function getFirebaseApp() {\n  if (typeof window === \"undefined\") {\n    throw new Error(\"Firebase must be used in client-side only\");\n  }\n\n  const config = {\n    apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY!,\n    authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN!,\n    projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID!,\n    storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET!,\n    messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID!,\n    appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID!,\n  };\n\n  if (getApps().length === 0) {\n    return initializeApp(config);\n  }\n\n  return getApps()[0];\n}\n\nexport function getFirebaseAuth(): Auth {\n  if (!firebaseAuth) {\n    firebaseAuth = getAuth(getFirebaseApp());\n  }\n  return firebaseAuth;\n}\n"],"names":[],"mappings":";;;;;;AAEA;AAAA;AACA;AAAA;AAHA;;;AAKA,IAAI,eAA4B;AAEzB,SAAS;IACd,wCAAmC;QACjC,MAAM,IAAI,MAAM;IAClB;IAEA,MAAM,SAAS;QACb,MAAM;QACN,UAAU;QACV,SAAS;QACT,aAAa;QACb,iBAAiB;QACjB,KAAK;IACP;IAEA,IAAI,IAAA,+KAAO,IAAG,MAAM,KAAK,GAAG;QAC1B,OAAO,IAAA,qLAAa,EAAC;IACvB;IAEA,OAAO,IAAA,+KAAO,GAAE,CAAC,EAAE;AACrB;AAEO,SAAS;IACd,IAAI,CAAC,cAAc;QACjB,eAAe,IAAA,yMAAO,EAAC;IACzB;IACA,OAAO;AACT","debugId":null}},
    {"offset": {"line": 330, "column": 0}, "map": {"version":3,"sources":["file:///app/src/infrastructure/auth/FirebaseAuthClient.ts"],"sourcesContent":["\"use client\";\n\nimport type { Auth } from \"firebase/auth\";\nimport {\n  getAuth,\n  signInWithEmailAndPassword,\n  createUserWithEmailAndPassword,\n  signOut,\n  User,\n} from \"firebase/auth\";\nimport { getFirebaseAuth } from \"@/lib/firebase\";\n\nexport class FirebaseAuthClient {\n  private auth: Auth;\n\n  constructor() {\n    if (typeof window === \"undefined\") {\n      throw new Error(\"FirebaseAuthClient must be used on client only\");\n    }\n    this.auth = getFirebaseAuth();\n  }\n\n  async register(email: string, password: string): Promise<User> {\n    const result = await createUserWithEmailAndPassword(\n      this.auth,\n      email,\n      password,\n    );\n    return result.user;\n  }\n\n  async login(email: string, password: string): Promise<User> {\n    const result = await signInWithEmailAndPassword(this.auth, email, password);\n    return result.user;\n  }\n\n  /** ‚òÖ Â∏∏„Å´ÊúÄÊñ∞„Éà„Éº„ÇØ„É≥„ÇíÂèñÂæóÔºàË∂ÖÈáçË¶ÅÔºâ */\n  async getFreshIdToken(user: User): Promise<string> {\n    return user.getIdToken(true); // ‚Üê true ÂøÖÈ†à\n  }\n\n  async logout(): Promise<void> {\n    await signOut(this.auth);\n  }\n}\n"],"names":[],"mappings":";;;;AAGA;AAAA;AAOA;AAVA;;;AAYO,MAAM;IACH,KAAW;IAEnB,aAAc;QACZ,wCAAmC;YACjC,MAAM,IAAI,MAAM;QAClB;QACA,IAAI,CAAC,IAAI,GAAG,IAAA,yIAAe;IAC7B;IAEA,MAAM,SAAS,KAAa,EAAE,QAAgB,EAAiB;QAC7D,MAAM,SAAS,MAAM,IAAA,gOAA8B,EACjD,IAAI,CAAC,IAAI,EACT,OACA;QAEF,OAAO,OAAO,IAAI;IACpB;IAEA,MAAM,MAAM,KAAa,EAAE,QAAgB,EAAiB;QAC1D,MAAM,SAAS,MAAM,IAAA,4NAA0B,EAAC,IAAI,CAAC,IAAI,EAAE,OAAO;QAClE,OAAO,OAAO,IAAI;IACpB;IAEA,uBAAuB,GACvB,MAAM,gBAAgB,IAAU,EAAmB;QACjD,OAAO,KAAK,UAAU,CAAC,OAAO,YAAY;IAC5C;IAEA,MAAM,SAAwB;QAC5B,MAAM,IAAA,yMAAO,EAAC,IAAI,CAAC,IAAI;IACzB;AACF","debugId":null}},
    {"offset": {"line": 367, "column": 0}, "map": {"version":3,"sources":["file:///app/src/infrastructure/auth/LaravelAuthApi.ts"],"sourcesContent":["import type { AxiosInstance, AxiosError } from \"axios\";\nimport type { AuthTokens } from \"@/domain/auth/AuthTokens\";\nimport type { AuthUser } from \"@/types/auth\";\n\n/**\n * Firebase login result\n */\nexport type LoginWithFirebaseResult = {\n  tokens: AuthTokens;\n  user: AuthUser;\n  isFirstLogin: boolean;\n};\n\nexport class LaravelAuthApi {\n  private _client: AxiosInstance | null;\n\n  constructor(client: AxiosInstance | null) {\n    this._client = client;\n  }\n\n  /**\n   * client „ÇíÂæå„Åã„ÇâÊ≥®ÂÖ•„Åß„Åç„Çã„Çà„ÅÜ„Å´„Åô„ÇãÔºàAuthProvider ÂàùÊúüÂåñÈ†ÜÂïèÈ°å„ÅÆËß£Ê±∫Ôºâ\n   */\n  public setClient(client: AxiosInstance): void {\n    this._client = client;\n  }\n\n  public get client(): AxiosInstance {\n    if (!this._client) {\n      throw new Error(\"LaravelAuthApi client is not initialized\");\n    }\n    return this._client;\n  }\n\n  /**\n   * Firebase ID Token ‚Üí Laravel JWT\n   */\n  async loginWithFirebaseToken(\n    firebaseToken: string,\n    deviceId: string,\n  ): Promise<LoginWithFirebaseResult> {\n    const res = await this.client.post(\"/login_or_register\", {\n      firebase_token: firebaseToken,\n      device_id: deviceId,\n    });\n\n    return {\n      tokens: {\n        accessToken: res.data.token,\n        refreshToken: res.data.refreshToken,\n      },\n      user: res.data.user as AuthUser,\n      isFirstLogin: res.data.isFirstLogin,\n    };\n  }\n\n  /**\n   * Refresh JWT\n   *\n   * ‚ö†Ô∏è Â§±ÊïóÊôÇ„ÅØ„ÄåÊÑèÂë≥„ÅÆ„ÅÇ„Çã Error„Äç„ÇíÊäï„Åí„Çã\n   * Ôºàaxios interceptor / TokenRefreshService ÂÅ¥„ÅßÂà∂Âæ°„Åô„ÇãÔºâ\n   */\n  async refresh(refreshToken: string, deviceId: string): Promise<AuthTokens> {\n    try {\n      const res = await this.client.post(\"/auth/refresh\", {\n        refresh_token: refreshToken,\n        device_id: deviceId,\n      });\n\n      return {\n        accessToken: res.data.access_token,\n        refreshToken: res.data.refresh_token,\n      };\n    } catch (err) {\n      const error = err as AxiosError<any>;\n\n      // refresh token ÁÑ°Âäπ„ÉªÊúüÈôêÂàá„Çå\n      if (error.response?.status === 401 || error.response?.status === 403) {\n        throw new Error(\"refresh_token_invalid\");\n      }\n\n      // „Åù„ÅÆ‰ªñÔºà500 / network / unexpectedÔºâ\n      throw new Error(\"refresh_failed\");\n    }\n  }\n\n  /**\n   * Get current authenticated user\n   */\n  async me(): Promise<AuthUser> {\n    const res = await this.client.get(\"/me\");\n    return res.data as AuthUser;\n  }\n\n  /**\n   * Logout (server-side)\n   */\n  async logout(): Promise<void> {\n    await this.client.post(\"/logout\");\n  }\n}\n"],"names":[],"mappings":";;;;AAaO,MAAM;IACH,QAA8B;IAEtC,YAAY,MAA4B,CAAE;QACxC,IAAI,CAAC,OAAO,GAAG;IACjB;IAEA;;GAEC,GACD,AAAO,UAAU,MAAqB,EAAQ;QAC5C,IAAI,CAAC,OAAO,GAAG;IACjB;IAEA,IAAW,SAAwB;QACjC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;YACjB,MAAM,IAAI,MAAM;QAClB;QACA,OAAO,IAAI,CAAC,OAAO;IACrB;IAEA;;GAEC,GACD,MAAM,uBACJ,aAAqB,EACrB,QAAgB,EACkB;QAClC,MAAM,MAAM,MAAM,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,sBAAsB;YACvD,gBAAgB;YAChB,WAAW;QACb;QAEA,OAAO;YACL,QAAQ;gBACN,aAAa,IAAI,IAAI,CAAC,KAAK;gBAC3B,cAAc,IAAI,IAAI,CAAC,YAAY;YACrC;YACA,MAAM,IAAI,IAAI,CAAC,IAAI;YACnB,cAAc,IAAI,IAAI,CAAC,YAAY;QACrC;IACF;IAEA;;;;;GAKC,GACD,MAAM,QAAQ,YAAoB,EAAE,QAAgB,EAAuB;QACzE,IAAI;YACF,MAAM,MAAM,MAAM,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,iBAAiB;gBAClD,eAAe;gBACf,WAAW;YACb;YAEA,OAAO;gBACL,aAAa,IAAI,IAAI,CAAC,YAAY;gBAClC,cAAc,IAAI,IAAI,CAAC,aAAa;YACtC;QACF,EAAE,OAAO,KAAK;YACZ,MAAM,QAAQ;YAEd,wBAAwB;YACxB,IAAI,MAAM,QAAQ,EAAE,WAAW,OAAO,MAAM,QAAQ,EAAE,WAAW,KAAK;gBACpE,MAAM,IAAI,MAAM;YAClB;YAEA,kCAAkC;YAClC,MAAM,IAAI,MAAM;QAClB;IACF;IAEA;;GAEC,GACD,MAAM,KAAwB;QAC5B,MAAM,MAAM,MAAM,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;QAClC,OAAO,IAAI,IAAI;IACjB;IAEA;;GAEC,GACD,MAAM,SAAwB;QAC5B,MAAM,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC;IACzB;AACF","debugId":null}},
    {"offset": {"line": 528, "column": 0}, "map": {"version":3,"sources":["file:///app/src/infrastructure/auth/HttpClient.ts"],"sourcesContent":["import axios, { AxiosInstance, AxiosError } from \"axios\";\nimport { TokenStorage } from \"@/infrastructure/auth/TokenStorage\";\nimport type { TokenRefreshService } from \"@/application/auth/TokenRefreshService\";\n\nexport function createHttpClient(\n  refreshService: TokenRefreshService | null,\n): AxiosInstance {\n  const client = axios.create({\n    baseURL: \"/api\",\n    // withCredentials: true,\n  });\n\n  /* ======================\n     Request\n  ====================== */\n  client.interceptors.request.use((config) => {\n    // refresh API „ÅØÂ∏∏„Å´Á¥†ÈÄö„Åó\n    if (config.url?.includes(\"/auth/refresh\")) {\n      if (config.headers) delete (config.headers as any).Authorization;\n      return config;\n    }\n\n    const { accessToken } = TokenStorage.load();\n\n    if (accessToken && accessToken.trim() !== \"\") {\n      config.headers = config.headers ?? {};\n      (config.headers as any).Authorization = `Bearer ${accessToken}`;\n    } else {\n      if (config.headers) delete (config.headers as any).Authorization;\n    }\n\n    return config;\n  });\n\n  /* ======================\n     Response\n  ====================== */\n  client.interceptors.response.use(\n    (res) => res,\n    async (error: AxiosError) => {\n      const status = error.response?.status;\n      const original = error.config as any;\n\n      // refresh Ëá™‰Ωì„ÅåÂ§±Êïó„Åó„Åü„Çâ„Åù„ÅÆ„Åæ„ÅæËøî„Åô\n      if (original?.url?.includes(\"/auth/refresh\")) {\n        return Promise.reject(error);\n      }\n\n      // ‚úÖ refreshService „ÅåÁÑ°„ÅÑ„Éï„Çß„Éº„Ç∫„Åß„ÅØ 401 „ÇíËá™ÂãïÂõûÂæ©„Åó„Å™„ÅÑ\n      if (!refreshService) {\n        return Promise.reject(error);\n      }\n\n      // ‚úÖ refresh ÊúâÂäπ„Éï„Çß„Éº„Ç∫„ÅÆ„Åø„ÄÅ„Åì„Åì„ÅåÂãï„Åè\n      if (status === 401 && !original?._retry) {\n        original._retry = true;\n\n        try {\n          await refreshService.refresh();\n          return client(original);\n        } catch (e) {\n          // „Åì„Åì„Åß TokenStorage.clear() „ÅØ ‚ÄúÁî®ÈÄîÊ¨°Á¨¨‚Äù\n          // refresh „ÇíÂ∞éÂÖ•„Åó„Åü„Éï„Çß„Éº„Ç∫„Åß„ÅÆ„Åø„Äå„É≠„Ç∞„Ç¢„Ç¶„ÉàÊâ±„ÅÑ„Äç„Å´„Åó„Åü„ÅÑ„Å™„Çâ clear „Åô„Çã\n          // ‰ªä„ÅØ refreshService „Åå null „Å™„ÅÆ„ÅßÂà∞ÈÅî„Åó„Å™„ÅÑ\n          return Promise.reject(e);\n        }\n      }\n\n      return Promise.reject(error);\n    },\n  );\n\n  return client;\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAGO,SAAS,iBACd,cAA0C;IAE1C,MAAM,SAAS,gJAAK,CAAC,MAAM,CAAC;QAC1B,SAAS;IAEX;IAEA;;yBAEuB,GACvB,OAAO,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;QAC/B,qBAAqB;QACrB,IAAI,OAAO,GAAG,EAAE,SAAS,kBAAkB;YACzC,IAAI,OAAO,OAAO,EAAE,OAAO,AAAC,OAAO,OAAO,CAAS,aAAa;YAChE,OAAO;QACT;QAEA,MAAM,EAAE,WAAW,EAAE,GAAG,6JAAY,CAAC,IAAI;QAEzC,IAAI,eAAe,YAAY,IAAI,OAAO,IAAI;YAC5C,OAAO,OAAO,GAAG,OAAO,OAAO,IAAI,CAAC;YACnC,OAAO,OAAO,CAAS,aAAa,GAAG,CAAC,OAAO,EAAE,aAAa;QACjE,OAAO;YACL,IAAI,OAAO,OAAO,EAAE,OAAO,AAAC,OAAO,OAAO,CAAS,aAAa;QAClE;QAEA,OAAO;IACT;IAEA;;yBAEuB,GACvB,OAAO,YAAY,CAAC,QAAQ,CAAC,GAAG,CAC9B,CAAC,MAAQ,KACT,OAAO;QACL,MAAM,SAAS,MAAM,QAAQ,EAAE;QAC/B,MAAM,WAAW,MAAM,MAAM;QAE7B,yBAAyB;QACzB,IAAI,UAAU,KAAK,SAAS,kBAAkB;YAC5C,OAAO,QAAQ,MAAM,CAAC;QACxB;QAEA,0CAA0C;QAC1C,IAAI,CAAC,gBAAgB;YACnB,OAAO,QAAQ,MAAM,CAAC;QACxB;QAEA,2BAA2B;QAC3B,IAAI,WAAW,OAAO,CAAC,UAAU,QAAQ;YACvC,SAAS,MAAM,GAAG;YAElB,IAAI;gBACF,MAAM,eAAe,OAAO;gBAC5B,OAAO,OAAO;YAChB,EAAE,OAAO,GAAG;gBACV,oCAAoC;gBACpC,+CAA+C;gBAC/C,oCAAoC;gBACpC,OAAO,QAAQ,MAAM,CAAC;YACxB;QACF;QAEA,OAAO,QAAQ,MAAM,CAAC;IACxB;IAGF,OAAO;AACT","debugId":null}},
    {"offset": {"line": 591, "column": 0}, "map": {"version":3,"sources":["file:///app/src/ui/auth/AuthProvider.tsx"],"sourcesContent":["\"use client\";\n\nimport React, {\n  createContext,\n  useEffect,\n  useRef,\n  useState,\n  type ReactNode,\n} from \"react\";\nimport { useRouter } from \"next/navigation\";\n\nimport { AuthService } from \"@/application/auth/AuthService\";\nimport { FirebaseAuthClient } from \"@/infrastructure/auth/FirebaseAuthClient\";\nimport { LaravelAuthApi } from \"@/infrastructure/auth/LaravelAuthApi\";\nimport { createHttpClient } from \"@/infrastructure/auth/HttpClient\";\nimport { TokenStorage } from \"@/infrastructure/auth/TokenStorage\";\n\nimport type { AuthUser } from \"@/types/auth\";\nimport type {\n  AuthContextType,\n  RegisterInput,\n  RegisterResult,\n  LoginInput,\n} from \"./AuthContextType\";\n\nexport const AuthContext = createContext<AuthContextType | null>(null);\n\nexport function AuthProvider({ children }: { children: ReactNode }) {\n  const router = useRouter();\n\n  const [user, setUser] = useState<AuthUser | null>(null);\n  const [isBooting, setIsBooting] = useState(true);\n\n  const authServiceRef = useRef<AuthService | null>(null);\n  const laravelApiRef = useRef<LaravelAuthApi | null>(null);\n\n  /**\n   * üîπ BootÔºàÊ∞∏Á∂ö„É≠„Ç∞„Ç§„É≥Âæ©ÂÖÉ + Profile GateÔºâ\n   */\n  useEffect(() => {\n    const firebase = new FirebaseAuthClient();\n    const api = new LaravelAuthApi(null);\n    const client = createHttpClient();\n\n    api.setClient(client);\n\n    authServiceRef.current = new AuthService(firebase, api);\n    laravelApiRef.current = api;\n\n    const { accessToken } = TokenStorage.load();\n\n    if (!accessToken) {\n      setIsBooting(false);\n      return;\n    }\n\n    (async () => {\n      try {\n        const me = await api.me();\n        setUser(me);\n\n        if (me.has_profile === false) {\n          router.replace(\"/mypage/profile\");\n          return;\n        }\n      } catch {\n        TokenStorage.clear();\n        setUser(null);\n      } finally {\n        setIsBooting(false);\n      }\n    })();\n  }, [router]);\n\n  /**\n   * üîπ LoginÔºàuser Á¢∫ÂÆö + Profile GateÔºâ\n   */\n  async function login({ email, password }: LoginInput) {\n    const auth = authServiceRef.current;\n    const api = laravelApiRef.current;\n    if (!auth || !api) throw new Error(\"AuthService not ready\");\n\n    const result = await auth.login({ email, password });\n    const me = await api.me();\n\n    setUser(me);\n\n    if (me.has_profile === false) {\n      router.replace(\"/mypage/profile\");\n    } else {\n      router.replace(\"/\");\n    }\n\n    return result;\n  }\n\n  /**\n   * üîπ RegisterÔºà„Ç¢„Ç´„Ç¶„É≥„Éà‰ΩúÊàê„ÅÆ„ÅøÔºâ\n   * ‚Äª user / router „Å´„ÅØ‰∏ÄÂàáËß¶„Çâ„Å™„ÅÑÔºàË∂ÖÈáçË¶ÅÔºâ\n   */\n  async function register(\n    input: RegisterInput\n  ): Promise<RegisterResult> {\n    const auth = authServiceRef.current;\n    if (!auth) throw new Error(\"AuthService not ready\");\n\n    const result = await auth.register(input);\n\n    return result;\n  }\n\n  /**\n   * üîπ Logout\n   */\n  async function logout() {\n    TokenStorage.clear();\n    setUser(null);\n    router.replace(\"/login\");\n  }\n\n  /**\n   * üîπ Reload user\n   */\n  async function reloadUser() {\n    const api = laravelApiRef.current;\n    if (!api) return;\n    const me = await api.me();\n    setUser(me);\n  }\n\n  /**\n   * üîí Boot ‰∏≠„ÅØ‰Ωï„ÇÇÊèèÁîª„Åó„Å™„ÅÑ\n   */\n  if (isBooting) {\n    return null;\n  }\n\n  return (\n    <AuthContext.Provider\n      value={{\n        user,\n        isAuthenticated: !!user,\n        isLoading: false,\n        isReady: true,\n        login,\n        register,\n        logout,\n        reloadUser,\n        apiClient: laravelApiRef.current?.client ?? null,\n        reloginWithFirebaseToken: async () => {\n          throw new Error(\"Not supported\");\n        },\n      }}\n    >\n      {children}\n    </AuthContext.Provider>\n  );\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AAOA;AAEA;AACA;AACA;AACA;AACA;AAfA;;;;;;;;;AAyBO,MAAM,4BAAc,IAAA,sNAAa,EAAyB;AAE1D,SAAS,aAAa,EAAE,QAAQ,EAA2B;IAChE,MAAM,SAAS,IAAA,+IAAS;IAExB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAkB;IAClD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAE3C,MAAM,iBAAiB,IAAA,+MAAM,EAAqB;IAClD,MAAM,gBAAgB,IAAA,+MAAM,EAAwB;IAEpD;;GAEC,GACD,IAAA,kNAAS,EAAC;QACR,MAAM,WAAW,IAAI,yKAAkB;QACvC,MAAM,MAAM,IAAI,iKAAc,CAAC;QAC/B,MAAM,SAAS,IAAA,+JAAgB;QAE/B,IAAI,SAAS,CAAC;QAEd,eAAe,OAAO,GAAG,IAAI,wJAAW,CAAC,UAAU;QACnD,cAAc,OAAO,GAAG;QAExB,MAAM,EAAE,WAAW,EAAE,GAAG,6JAAY,CAAC,IAAI;QAEzC,IAAI,CAAC,aAAa;YAChB,aAAa;YACb;QACF;QAEA,CAAC;YACC,IAAI;gBACF,MAAM,KAAK,MAAM,IAAI,EAAE;gBACvB,QAAQ;gBAER,IAAI,GAAG,WAAW,KAAK,OAAO;oBAC5B,OAAO,OAAO,CAAC;oBACf;gBACF;YACF,EAAE,OAAM;gBACN,6JAAY,CAAC,KAAK;gBAClB,QAAQ;YACV,SAAU;gBACR,aAAa;YACf;QACF,CAAC;IACH,GAAG;QAAC;KAAO;IAEX;;GAEC,GACD,eAAe,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAc;QAClD,MAAM,OAAO,eAAe,OAAO;QACnC,MAAM,MAAM,cAAc,OAAO;QACjC,IAAI,CAAC,QAAQ,CAAC,KAAK,MAAM,IAAI,MAAM;QAEnC,MAAM,SAAS,MAAM,KAAK,KAAK,CAAC;YAAE;YAAO;QAAS;QAClD,MAAM,KAAK,MAAM,IAAI,EAAE;QAEvB,QAAQ;QAER,IAAI,GAAG,WAAW,KAAK,OAAO;YAC5B,OAAO,OAAO,CAAC;QACjB,OAAO;YACL,OAAO,OAAO,CAAC;QACjB;QAEA,OAAO;IACT;IAEA;;;GAGC,GACD,eAAe,SACb,KAAoB;QAEpB,MAAM,OAAO,eAAe,OAAO;QACnC,IAAI,CAAC,MAAM,MAAM,IAAI,MAAM;QAE3B,MAAM,SAAS,MAAM,KAAK,QAAQ,CAAC;QAEnC,OAAO;IACT;IAEA;;GAEC,GACD,eAAe;QACb,6JAAY,CAAC,KAAK;QAClB,QAAQ;QACR,OAAO,OAAO,CAAC;IACjB;IAEA;;GAEC,GACD,eAAe;QACb,MAAM,MAAM,cAAc,OAAO;QACjC,IAAI,CAAC,KAAK;QACV,MAAM,KAAK,MAAM,IAAI,EAAE;QACvB,QAAQ;IACV;IAEA;;GAEC,GACD,IAAI,WAAW;QACb,OAAO;IACT;IAEA,qBACE,8OAAC,YAAY,QAAQ;QACnB,OAAO;YACL;YACA,iBAAiB,CAAC,CAAC;YACnB,WAAW;YACX,SAAS;YACT;YACA;YACA;YACA;YACA,WAAW,cAAc,OAAO,EAAE,UAAU;YAC5C,0BAA0B;gBACxB,MAAM,IAAI,MAAM;YAClB;QACF;kBAEC;;;;;;AAGP","debugId":null}},
    {"offset": {"line": 727, "column": 0}, "map": {"version":3,"sources":["file:///app/src/ui/auth/useAuth.ts"],"sourcesContent":["\"use client\";\n\nimport { useContext } from \"react\";\nimport { AuthContext } from \"./AuthProvider\";\nimport type { AuthContextType } from \"./AuthContextType\";\n\nexport function useAuth(): AuthContextType {\n  const ctx = useContext(AuthContext);\n  if (!ctx) {\n    throw new Error(\"useAuth must be used inside <AuthProvider>\");\n  }\n  return ctx;\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AAHA;;;AAMO,SAAS;IACd,MAAM,MAAM,IAAA,mNAAU,EAAC,iJAAW;IAClC,IAAI,CAAC,KAAK;QACR,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT","debugId":null}},
    {"offset": {"line": 747, "column": 0}, "map": {"version":3,"sources":["file:///app/components/layout/HeaderMain.tsx"],"sourcesContent":["\"use client\";\n\nimport Link from \"next/link\";\nimport Image from \"next/image\";\nimport { useAuth } from \"@/ui/auth/useAuth\";\nimport { useRouter } from \"next/navigation\";\nimport { useState, type FormEvent } from \"react\";\n\nexport default function HeaderMain() {\n  const { isAuthenticated, logout, isLoading } = useAuth();\n  const router = useRouter();\n\n  const handleLogout = async () => {\n    await logout(); // ‚ë† Áä∂ÊÖã„Éª„Éà„Éº„ÇØ„É≥Á†¥Ê£Ñ\n    router.push(\"/login\"); // ‚ë° ÊòéÁ§∫ÁöÑ„Å´ÈÅ∑Áßª\n  };\n\n  const [searchTerm, setSearchTerm] = useState(\"\");\n\n  const handleSearch = (e: FormEvent) => {\n    e.preventDefault();\n\n    if (searchTerm.trim().length === 0) {\n      router.push(\"/\");\n      return;\n    }\n\n    router.push(`/?all_item_search=${encodeURIComponent(searchTerm.trim())}`);\n  };\n\n  return (\n    <header className=\"bg-black h-[70px] shadow-md\">\n      <div className=\"flex items-center p-[20px_15px] h-full mx-auto max-w-[1300px]\">\n        <div\n          className=\"relative w-[250px] h-[50px] flex-shrink-0 cursor-pointer\"\n          onClick={() => router.push(\"/\")}\n        >\n          <Image\n            src=\"/image_icon/logo.svg\"\n            alt=\"‰ºöÁ§æÂêç\"\n            fill\n            className=\"object-contain\"\n            priority\n          />\n        </div>\n\n        {/* üîç Ê§úÁ¥¢„Éï„Ç©„Éº„É† */}\n        <form onSubmit={handleSearch} className=\"ml-[50px] flex items-center\">\n          <input\n            type=\"text\"\n            className=\"h-[30px] w-[300px] px-3 py-1 text-gray-800 rounded\"\n            placeholder=\"„Å™„Å´„Çí„ÅäÊé¢„Åó„Åß„Åô„ÅãÔºü\"\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n          />\n        </form>\n\n        <div className=\"flex items-center ml-auto space-x-2\">\n          {isLoading ? null : isAuthenticated ? (\n            <>\n              <button onClick={handleLogout} className=\"text-white\">\n                „É≠„Ç∞„Ç¢„Ç¶„Éà\n              </button>\n              <Link href=\"/mypage?page=sell\" className=\"text-white\">\n                „Éû„Ç§„Éö„Éº„Ç∏\n              </Link>\n              <Link href=\"/sell\" className=\"text-white\">\n                Âá∫ÂìÅ\n              </Link>\n            </>\n          ) : (\n            <Link href=\"/login\" className=\"text-white\">\n              „É≠„Ç∞„Ç§„É≥„Å∏\n            </Link>\n          )}\n        </div>\n      </div>\n    </header>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AANA;;;;;;;AAQe,SAAS;IACtB,MAAM,EAAE,eAAe,EAAE,MAAM,EAAE,SAAS,EAAE,GAAG,IAAA,uIAAO;IACtD,MAAM,SAAS,IAAA,+IAAS;IAExB,MAAM,eAAe;QACnB,MAAM,UAAU,cAAc;QAC9B,OAAO,IAAI,CAAC,WAAW,WAAW;IACpC;IAEA,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAE7C,MAAM,eAAe,CAAC;QACpB,EAAE,cAAc;QAEhB,IAAI,WAAW,IAAI,GAAG,MAAM,KAAK,GAAG;YAClC,OAAO,IAAI,CAAC;YACZ;QACF;QAEA,OAAO,IAAI,CAAC,CAAC,kBAAkB,EAAE,mBAAmB,WAAW,IAAI,KAAK;IAC1E;IAEA,qBACE,8OAAC;QAAO,WAAU;kBAChB,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBACC,WAAU;oBACV,SAAS,IAAM,OAAO,IAAI,CAAC;8BAE3B,cAAA,8OAAC,wIAAK;wBACJ,KAAI;wBACJ,KAAI;wBACJ,IAAI;wBACJ,WAAU;wBACV,QAAQ;;;;;;;;;;;8BAKZ,8OAAC;oBAAK,UAAU;oBAAc,WAAU;8BACtC,cAAA,8OAAC;wBACC,MAAK;wBACL,WAAU;wBACV,aAAY;wBACZ,OAAO;wBACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;8BAIjD,8OAAC;oBAAI,WAAU;8BACZ,YAAY,OAAO,gCAClB;;0CACE,8OAAC;gCAAO,SAAS;gCAAc,WAAU;0CAAa;;;;;;0CAGtD,8OAAC,uKAAI;gCAAC,MAAK;gCAAoB,WAAU;0CAAa;;;;;;0CAGtD,8OAAC,uKAAI;gCAAC,MAAK;gCAAQ,WAAU;0CAAa;;;;;;;qDAK5C,8OAAC,uKAAI;wBAAC,MAAK;wBAAS,WAAU;kCAAa;;;;;;;;;;;;;;;;;;;;;;AAQvD","debugId":null}},
    {"offset": {"line": 885, "column": 0}, "map": {"version":3,"sources":["file:///app/src/app/ClientLayout.tsx"],"sourcesContent":["\"use client\";\n\nimport { AuthProvider } from \"@/ui/auth/AuthProvider\";\nimport HeaderMain from \"@/components/layout/HeaderMain\";\n\nexport default function ClientLayout({\n  children,\n}: {\n  children: React.ReactNode;\n}) {\n  return (\n    <AuthProvider>\n      <HeaderMain />\n      {children}\n    </AuthProvider>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKe,SAAS,aAAa,EACnC,QAAQ,EAGT;IACC,qBACE,8OAAC,kJAAY;;0BACX,8OAAC,8IAAU;;;;;YACV;;;;;;;AAGP","debugId":null}}]
}