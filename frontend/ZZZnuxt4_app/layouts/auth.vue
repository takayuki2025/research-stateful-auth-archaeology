<template>
  <!-- ğŸ’¡ ä¿®æ­£: auth-wrapper ã‚’ site-wrapper ã«å¤‰æ›´ã—ã€ä¸€èˆ¬çš„ãªãƒ¡ã‚¤ãƒ³ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã¨åŒºåˆ¥ã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã™ -->
  <div class="site-wrapper mx-auto max-w-content bg-white shadow-xl min-h-screen">
    
    <header class="header bg-black shadow-md mx-auto max-w-content">
      <div class="header__inner flex justify-between items-center py-3 px-4">
        <NuxtLink to="/">
          <img class="h-8 w-auto company" src="/image_icon/logo.svg" alt="ä¼šç¤¾å"> 
        </NuxtLink>
      </div>
    </header>
    
    <!-- ä¿®æ­£: mainã®flexå®šç¾©ã‚’ã‚·ãƒ³ãƒ—ãƒ«ã«ã—ã€ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®æ°´å¹³ä¸­å¤®å¯„ã›ã‚’ç¶­æŒã—ã¾ã™ -->
    <main class="flex flex-col items-center pt-10 px-4">
      
      <div v-if="!authStore.isAuthResolved" class="flex flex-col items-center justify-center h-64 text-gray-500 w-full">
          <svg class="animate-spin h-8 w-8 text-indigo-600 mb-3" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
            <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
            <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
          </svg>
          <p class="text-lg text-gray-800">èªè¨¼ã‚µãƒ¼ãƒ“ã‚¹ã‚’æº–å‚™ä¸­ã§ã™...</p>
      </div>
      
      <!-- ğŸ’¡ ä¿®æ­£: w-full ã‹ã‚‰ max-w-full ã‚’å‰Šé™¤ã—ã€mx-auto ã§ä¸­å¤®å¯„ã›ã‚’æ˜ç¢ºã«ã—ã¾ã™ -->
      <div v-show="authStore.isAuthResolved" class="w-full max-w-content mx-auto"> 
          <slot />
      </div>
      
    </main>
    
  </div>
</template>

<script setup lang="ts">
import { useAuthStore } from '~/stores/auth';

// Piniaã‚¹ãƒˆã‚¢ã‚’ä½¿ç”¨
const authStore = useAuthStore();
</script>

<style scoped>
/* ã‚«ã‚¹ã‚¿ãƒ CSSã¯å…ƒã®æŒ‡å®šã‚’ç¶­æŒ */
.max-w-content {
    max-width: 1400px;
}
.site-wrapper { /* ä¿®æ­£: auth-wrapperã‹ã‚‰å¤‰æ›´ */
  box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
}
.company {
    margin-left: 0 !important; 
}
.login_page0 {
  white-space: nowrap; 
}

main {
  /* min-h-screen ã‹ã‚‰ãƒ˜ãƒƒãƒ€ãƒ¼ã®é«˜ã• (ç´„56px: py-3ã§æ±ºå®š) ã‚’å¼•ãã“ã¨ã§ã€é©åˆ‡ãªå‚ç›´ã‚¹ãƒšãƒ¼ã‚¹ã‚’ç¢ºä¿ */
  min-height: calc(100vh - 56px); 
}
</style>